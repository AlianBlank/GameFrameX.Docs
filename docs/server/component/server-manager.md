# 服务器状态管理

[[toc]]
---

服务器的状态管理

## 服务器状态

定义了服务器的基础状态,后续会持续增加

- `Online` 在线
- `Offline` 离线
- `unknown` 未知

## 服务器状态信息

定义了服务器状态和最大承重的人数和当前已连接的数量

## 服务器信息

定义了服务器的基础信息

- `SessionId` 会话ID
- `Type` 服务器类型
- `ServerName` 服务器名称
- `ServerId` 服务器唯一标识
- `InnerIp` 内部IP
- `InnerPort` 内部端口
- `OuterIp` 外部IP,用于提供给其他服务连接
- `OuterPort` 外部端口,用于提供给其他服务连接
- `StatusInfo` 服务器的当前的状态信息

## 服务器管理器

定义了服务器的存储接口.该服务主要给发现中心使用

定义了服务器上线和下线的事件委托,当有新的服务器连接到发现中心的时候将会通知给所有已经连接的服务器,当有服务器下线的时候会通知给所有的已经连接的服务器.
下线的方式可能有多种,连接断开/心跳丢失/消息异常 等等.都可能触发服务器下线
